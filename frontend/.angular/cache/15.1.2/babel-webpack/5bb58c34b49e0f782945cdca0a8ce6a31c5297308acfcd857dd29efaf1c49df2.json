{"ast":null,"code":"import { finalize } from 'rxjs';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../http.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = function (a2) {\n  return [\"/\", \"contacts\", a2];\n};\nfunction ContactsComponent_div_12_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 11)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 12);\n    i0.ɵɵelement(13, \"i\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\")(15, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ContactsComponent_div_12_tr_15_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.delete(item_r3));\n    });\n    i0.ɵɵtext(16, \"x\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.phone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.address);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(6, _c0, item_r3.id));\n  }\n}\nfunction ContactsComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 7)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 8);\n    i0.ɵɵtext(11, \"\\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 9);\n    i0.ɵɵtext(13, \" \\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"tbody\");\n    i0.ɵɵtemplate(15, ContactsComponent_div_12_tr_15_Template, 17, 8, \"tr\", 10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.data);\n  }\n}\nconst _c1 = function (a1) {\n  return [\"/contacts\", a1];\n};\nfunction ContactsComponent_div_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\");\n    i0.ɵɵelement(2, \"img\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 19)(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 20)(7, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ContactsComponent_div_13_div_1_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const item_r7 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.delete(item_r7));\n    });\n    i0.ɵɵtext(8, \"x\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 12);\n    i0.ɵɵelement(10, \"i\", 13);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c1, item_r7.id));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", item_r7.firstName, \" \", item_r7.lastName, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(6, _c0, item_r7.id));\n  }\n}\nfunction ContactsComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtemplate(1, ContactsComponent_div_13_div_1_Template, 11, 8, \"div\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.data);\n  }\n}\nexport class ContactsComponent {\n  constructor(router, http, route) {\n    this.router = router;\n    this.http = http;\n    this.route = route;\n    this.data = [];\n    this.displayMode = 'table';\n    this.allContacts = [];\n  }\n  buildForm(item) {\n    this.Form = new FormGroup({\n      firstName: new FormControl('', [Validators.required]),\n      lastName: new FormControl('', [Validators.required]),\n      email: new FormControl('', [Validators.required]),\n      phone: new FormControl('', [Validators.required]),\n      address: new FormControl('', [Validators.required])\n    });\n  }\n  delete(item) {\n    if (!confirm('האם למחוק איש קשר?')) {\n      return;\n    }\n    const sub = this.http.delete(`contacts/${item.id}`).subscribe(() => {\n      const i = this.data.findIndex(x => x.id === item.id);\n      this.data.splice(i, 1);\n      sub.unsubscribe();\n    });\n  }\n  ngOnInit() {\n    const sub = this.http.get('contacts').pipe(finalize(() => {\n      if (sub.unsubscribe) {\n        sub.unsubscribe();\n      }\n    })).subscribe(data => {\n      this.data = data;\n    });\n  }\n}\nContactsComponent.ɵfac = function ContactsComponent_Factory(t) {\n  return new (t || ContactsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HttpService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nContactsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ContactsComponent,\n  selectors: [[\"app-contacts\"]],\n  decls: 14,\n  vars: 4,\n  consts: [[1, \"displayMode\"], [\"type\", \"radio\", \"name\", \"displayMode\", \"value\", \"table\", 1, \"w3-radio\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"radio\", \"name\", \"displayMode\", \"value\", \"folders\", 1, \"w3-radio\", 3, \"ngModel\", \"ngModelChange\"], [\"routerLink\", \"/add-Contact\", 1, \"newCon\"], [1, \"fa\", \"far\", \"fa-plus\"], [4, \"ngIf\"], [\"class\", \"grid-container\", 4, \"ngIf\"], [1, \"w3-table\", \"w3-striped\", \"w3-bordered\"], [1, \"email\"], [1, \"address\"], [\"ngr\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"ngr\", \"\"], [1, \"w3-btn\", \"w3-round\"], [1, \"fa\", \"fa-edit\", 3, \"routerLink\"], [1, \"w3-btn\", \"w3-red\", \"w3-round\", 3, \"click\"], [1, \"grid-container\"], [\"class\", \"cardPerson\", 3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [1, \"cardPerson\", 3, \"routerLink\"], [\"src\", \"assets/images/folder.png\", \"alt\", \"folder\", 1, \"pic\"], [1, \"container\"], [1, \"btns\"], [1, \"w3-btn\", \"w3-round\", 3, \"click\"]],\n  template: function ContactsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h3\");\n      i0.ɵɵtext(1, \"\\u05D0\\u05E0\\u05E9\\u05D9 \\u05E7\\u05E9\\u05E8\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"label\")(4, \"input\", 1);\n      i0.ɵɵlistener(\"ngModelChange\", function ContactsComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.displayMode = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(5, \" \\u05D8\\u05D1\\u05DC\\u05D4 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"label\")(7, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function ContactsComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.displayMode = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(8, \" \\u05EA\\u05D9\\u05E7\\u05D9\\u05D5\\u05EA \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"button\", 3);\n      i0.ɵɵtext(10, \"\\u05D4\\u05D5\\u05E1\\u05E3 \");\n      i0.ɵɵelement(11, \"i\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(12, ContactsComponent_div_12_Template, 16, 1, \"div\", 5);\n      i0.ɵɵtemplate(13, ContactsComponent_div_13_Template, 2, 1, \"div\", 6);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.displayMode);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.displayMode);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayMode === \"table\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayMode == \"folders\");\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.RadioControlValueAccessor, i4.NgControlStatus, i4.NgModel, i1.RouterLink],\n  styles: [\"h3[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 10px;\\n  font-style: initial;\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\n\\ntr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\\n  text-align: center;\\n  font-weight: lighter;\\n}\\n\\n.newCon[_ngcontent-%COMP%] {\\n  background-color: #629460;\\n  margin-bottom: 10px;\\n  margin-right: 10px;\\n  border: none;\\n  border-radius: 3px;\\n  color: white;\\n  padding: 5px 20px;\\n  position: relative;\\n  cursor: pointer;\\n  font-size: 10px;\\n}\\n\\n.displayMode[_ngcontent-%COMP%] {\\n  text-align: left;\\n}\\n\\n.pic[_ngcontent-%COMP%] {\\n  max-height: 50px;\\n  position: relative;\\n}\\n\\n.cardPerson[_ngcontent-%COMP%] {\\n  min-width: 10px;\\n  min-height: 10px;\\n  padding: 16px;\\n  text-align: center;\\n}\\n\\n.cardPerson[_ngcontent-%COMP%]:hover {\\n  cursor: pointer;\\n}\\n\\n.grid-container[_ngcontent-%COMP%] {\\n  margin: auto;\\n  display: grid;\\n  grid-template-columns: auto auto auto auto;\\n}\\n\\n@media (max-width: 600px) and (max-height: 1000px) {\\n  .email[_ngcontent-%COMP%], .address[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29udGFjdHMvY29udGFjdHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHlDQUFBO0FBQ0o7O0FBRUE7RUFDSSxrQkFBQTtFQUNBLG9CQUFBO0FBQ0o7O0FBRUE7RUFDSSx5QkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FBQ0o7O0FBTUE7RUFDSSxnQkFBQTtBQUhKOztBQU1BO0VBQ0ksZ0JBQUE7RUFDQSxrQkFBQTtBQUhKOztBQVFBO0VBRUksZUFBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0FBTko7O0FBU0E7RUFDSSxlQUFBO0FBTko7O0FBV0E7RUFDSSxZQUFBO0VBQ0EsYUFBQTtFQUNBLDBDQUFBO0FBUko7O0FBWUE7RUFDSTs7SUFFSSxhQUFBO0VBVE47QUFDRiIsInNvdXJjZXNDb250ZW50IjpbImgze1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGZvbnQtc3R5bGU6IGluaXRpYWw7XHJcbiAgICBmb250LWZhbWlseTpBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmIDtcclxufVxyXG5cclxudHIsIHRkLCB0aHsgXHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LXdlaWdodDogbGlnaHRlcjtcclxuICAgIFxyXG59XHJcbi5uZXdDb24geyAgIFxyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzYyOTQ2MDsgXHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogNXB4IDIwcHg7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7O1xyXG4gICAgZm9udC1zaXplOiAxMHB4O1xyXG4gIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4uZGlzcGxheU1vZGUge1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxufVxyXG5cclxuLnBpYyB7XHJcbiAgICBtYXgtaGVpZ2h0OiA1MHB4O1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIFxyXG59XHJcblxyXG5cclxuLmNhcmRQZXJzb24ge1xyXG4gICAvLyBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgbWluLXdpZHRoOiAxMHB4O1xyXG4gICAgbWluLWhlaWdodDogMTBweDtcclxuICAgIHBhZGRpbmc6IDE2cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5jYXJkUGVyc29uOmhvdmVyIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICBcclxufVxyXG5cclxuXHJcbi5ncmlkLWNvbnRhaW5lciB7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIGF1dG8gYXV0byBhdXRvO1xyXG5cclxufVxyXG5cclxuQG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSBhbmQgKG1heC1oZWlnaHQ6IDEwMDBweCkge1xyXG4gICAgLmVtYWlsLFxyXG4gICAgLmFkZHJlc3Mge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["finalize","FormControl","FormGroup","Validators","i0","ContactsComponent","constructor","router","http","route","buildForm","item","Form","firstName","required","lastName","email","phone","address","delete","confirm","sub","id","subscribe","i","data","findIndex","x","splice","unsubscribe","ngOnInit","get","pipe","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\wamp64\\www\\firstProject\\frontend\\src\\app\\contacts\\contacts.component.ts","C:\\wamp64\\www\\firstProject\\frontend\\src\\app\\contacts\\contacts.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { finalize, Subscription } from 'rxjs';\r\nimport { FormControl, FormGroup, Validators,FormsModule } from '@angular/forms';\r\nimport { HttpService } from '../http.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { allContacts } from './contacts.interface';\r\nimport { Contact } from './add-contact/add-Contact.interface';\r\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\r\n\r\n@Component({\r\n  selector: 'app-contacts',\r\n  templateUrl: './contacts.component.html',\r\n  styleUrls: ['./contacts.component.scss']\r\n})\r\nexport class ContactsComponent {\r\n  data: allContacts[] = [];\r\n  Form?: FormGroup;\r\n  search?: \"\";\r\n  \r\n  sub?: Subscription;\r\n  displayMode: 'table'| 'folders' = 'table';\r\n  allContacts: allContacts[]=[];\r\n  \r\n\r\n\r\n\r\n  buildForm(item?: allContacts) {\r\n    this.Form = new FormGroup({\r\n      firstName: new FormControl('',[\r\n            Validators.required,\r\n        ]),\r\n        lastName: new FormControl('',[\r\n            Validators.required,\r\n        ]),\r\n        email: new FormControl('',[\r\n            Validators.required,\r\n        ]),\r\n        phone: new FormControl('',[\r\n          Validators.required,\r\n        ]),\r\n        address: new FormControl('',[\r\n        Validators.required,\r\n    ]),\r\n    });\r\n}\r\n\r\n\r\n\r\ndelete(item: allContacts) {\r\n  if (!confirm('האם למחוק איש קשר?')) {\r\n      return;\r\n  }\r\n\r\n  const sub = this.http.delete<void>(`contacts/${item.id}`).subscribe(() => {\r\n      const i = this.data.findIndex(x => x.id === item.id);\r\n      this.data.splice(i, 1);\r\n      sub.unsubscribe();\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n     constructor (private router: Router , private http: HttpService , private route: ActivatedRoute) { }\r\n\r\nngOnInit() {\r\n  const sub= this.http.get<allContacts[]>('contacts').pipe(finalize(() => {\r\n     if (sub.unsubscribe){\r\n       sub.unsubscribe();\r\n     }\r\n      })).subscribe(data => {\r\n          this.data=data\r\n      })\r\n     \r\n     }\r\n\r\n}\r\n","\r\n<h3>אנשי קשר</h3>\r\n\r\n<div class=\"displayMode\">\r\n    <label>\r\n        <input [(ngModel)]=\"displayMode\" class=\"w3-radio\" type=\"radio\" name=\"displayMode\" value=\"table\"> טבלה\r\n    </label>\r\n    <label>\r\n        <input [(ngModel)]=\"displayMode\" class=\"w3-radio\" type=\"radio\" name=\"displayMode\" value=\"folders\"> תיקיות\r\n    </label>\r\n</div>\r\n\r\n<button class=\"newCon\" routerLink=\"/add-Contact\" >הוסף  <i class=\"fa far fa-plus\"></i></button>\r\n\r\n<div *ngIf=\"displayMode === 'table'\" >\r\n\r\n    <div class=\"w3-table w3-striped w3-bordered\">\r\n        \r\n        <thead>\r\n            <tr>\r\n                <th>שם פרטי</th>\r\n                <th>שם משפחה</th>\r\n                <th>טלפון</th>\r\n                <th class=\"email\">אימייל</th>\r\n                <th class=\"address\"> כתובת </th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let item of data \" ngr>\r\n                <td>{{ item.firstName }}</td>\r\n                <td>{{ item.lastName }}</td>\r\n                <td>{{ item.phone }}</td>\r\n                <td>{{ item.email }}</td>\r\n                <td>{{ item.address }}</td>\r\n               \r\n                <td><button class=\"w3-btn  w3-round\"><i class=\"fa fa-edit\" [routerLink]=\"['/','contacts', item.id]\"></i></button></td>\r\n                <td><button class=\"w3-btn w3-red w3-round\" (click)=\"delete(item)\">x</button></td>\r\n    \r\n            </tr>\r\n        </tbody>\r\n    </div>\r\n    </div>\r\n\r\n    \r\n\r\n\r\n\r\n<div class=\"grid-container\" *ngIf=\"displayMode =='folders'\" >\r\n\r\n    <div class=\"cardPerson\" *ngFor=\"let item of data; let i = index\" [routerLink]=\"['/contacts', item.id]\">\r\n  <div><img class=\"pic\" src=\"assets/images/folder.png\" alt=\"folder\" ></div>\r\n  <div class=\"container\">\r\n    <p>{{item.firstName}} {{item.lastName}}</p>\r\n   \r\n    \r\n    <div class=\"btns\">\r\n        <button class=\"w3-btn  w3-round\"  (click)=\"delete(item)\">x</button>\r\n        <button class=\"w3-btn  w3-round\"> <i class=\"fa fa-edit\" [routerLink]=\"['/','contacts', item.id]\"></i></button>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}