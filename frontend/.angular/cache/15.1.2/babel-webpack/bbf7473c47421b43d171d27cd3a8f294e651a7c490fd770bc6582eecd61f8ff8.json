{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/http.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction EditContactComponent_h2_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\");\n    i0.ɵɵtext(1, \"\\u05E2\\u05E8\\u05D9\\u05DB\\u05EA \\u05D0\\u05D9\\u05E9 \\u05E7\\u05E9\\u05E8\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditContactComponent_h2_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\");\n    i0.ɵɵtext(1, \"\\u05E2\\u05E8\\u05D9\\u05DB\\u05EA \\u05D0\\u05D9\\u05E9 \\u05E7\\u05E9\\u05E8\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditContactComponent_form_2_button_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function EditContactComponent_form_2_button_21_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.add());\n    });\n    i0.ɵɵtext(1, \"\\u05D4\\u05D5\\u05E1\\u05E3 \");\n    i0.ɵɵelement(2, \"i\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r3.form.valid);\n  }\n}\nfunction EditContactComponent_form_2_button_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function EditContactComponent_form_2_button_22_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.save());\n    });\n    i0.ɵɵelement(1, \"i\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r4.form.valid);\n  }\n}\nfunction EditContactComponent_form_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"form\", 2)(1, \"div\", 3)(2, \"label\");\n    i0.ɵɵtext(3, \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\");\n    i0.ɵɵtext(7, \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\");\n    i0.ɵɵtext(11, \"\\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 3)(14, \"label\");\n    i0.ɵɵtext(15, \"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"input\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 3)(18, \"label\");\n    i0.ɵɵtext(19, \"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"input\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, EditContactComponent_form_2_button_21_Template, 3, 1, \"button\", 9);\n    i0.ɵɵtemplate(22, EditContactComponent_form_2_button_22_Template, 2, 1, \"button\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.form);\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.contacts);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.contacts);\n  }\n}\nexport class EditContactComponent {\n  constructor(router, route, http) {\n    this.router = router;\n    this.route = route;\n    this.http = http;\n    this.sub = this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.getContact(params['id']);\n      } else {\n        this.buildForm();\n      }\n    });\n  }\n  buildForm(item) {\n    this.form = new FormGroup({\n      firstName: new FormControl(item?.firstName, [Validators.required]),\n      lastName: new FormControl(item?.lastName, [Validators.required]),\n      email: new FormControl(item?.email, [Validators.required]),\n      phone: new FormControl(item?.phone, [Validators.required]),\n      address: new FormControl(item?.address, [Validators.required])\n    });\n  }\n  add() {\n    const sub = this.http.post(`contacts`, this.form?.value).subscribe(item => {\n      this.router.navigate(['contacts']);\n      sub.unsubscribe();\n    });\n  }\n  save() {\n    const sub = this.http.put(`contacts/${this.contacts?.id}`, this.form?.value).subscribe(() => {\n      this.router.navigate(['contacts']);\n      sub.unsubscribe();\n    });\n  }\n  getContact(id) {\n    const sub = this.http.get(`contact/${id}`).subscribe(item => {\n      this.contacts = item;\n      this.buildForm(item);\n      sub.unsubscribe();\n    });\n  }\n  ngOnInit() {}\n  ngOnDestroy() {\n    this.sub?.unsubscribe();\n  }\n}\nEditContactComponent.ɵfac = function EditContactComponent_Factory(t) {\n  return new (t || EditContactComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.HttpService));\n};\nEditContactComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditContactComponent,\n  selectors: [[\"app-edit-contact\"]],\n  decls: 3,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"class\", \"form\", 3, \"formGroup\", 4, \"ngIf\"], [1, \"form\", 3, \"formGroup\"], [1, \"field\"], [\"type\", \"text\", \"formControlName\", \"firstName\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [\"type\", \"text\", \"formControlName\", \"lastName\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [\"type\", \"text\", \"formControlName\", \"email\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [\"type\", \"text\", \"formControlName\", \"phone\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [\"type\", \"text\", \"formControlName\", \"address\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [\"class\", \"savecon\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [1, \"savecon\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-plus\"], [1, \"fa\", \"fa-check\"]],\n  template: function EditContactComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, EditContactComponent_h2_0_Template, 2, 0, \"h2\", 0);\n      i0.ɵɵtemplate(1, EditContactComponent_h2_1_Template, 2, 0, \"h2\", 0);\n      i0.ɵɵtemplate(2, EditContactComponent_form_2_Template, 23, 3, \"form\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.contacts);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.contacts);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.form);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n  styles: [\"h2[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.savecon[_ngcontent-%COMP%] {\\n  background-color: #629460;\\n  border: #629460;\\n  color: white;\\n  margin-top: 15px;\\n  margin-bottom: 15px;\\n  padding: 10px 50px;\\n  border-radius: 5px;\\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.4196078431);\\n  cursor: pointer;\\n  font-size: 10px;\\n}\\n\\n.form[_ngcontent-%COMP%] {\\n  margin-left: 100px !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29udGFjdHMvZWRpdC1jb250YWN0L2VkaXQtY29udGFjdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0FBQ0o7O0FBRUE7RUFDSSx5QkFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSwrQ0FBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FBQ0o7O0FBRUU7RUFDRSw2QkFBQTtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaDJ7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zYXZlY29uIHsgICBcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM2Mjk0NjA7IFxyXG4gICAgYm9yZGVyOiM2Mjk0NjA7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBtYXJnaW4tdG9wOiAxNXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgIHBhZGRpbmc6IDEwcHggNTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGJveC1zaGFkb3c6IDAgMCAzcHggIzAwMDAwMDZiO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyOztcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICB9XHJcblxyXG4gIC5mb3JtIHtcclxuICAgIG1hcmdpbi1sZWZ0OiAxMDBweCAhaW1wb3J0YW50IDsgXHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","i0","EditContactComponent","constructor","router","route","http","sub","params","subscribe","getContact","buildForm","item","form","firstName","required","lastName","email","phone","address","add","post","value","navigate","unsubscribe","save","put","contacts","id","get","ngOnInit","ngOnDestroy","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\wamp64\\www\\firstProject\\frontend\\src\\app\\contacts\\edit-contact\\edit-contact.component.ts","C:\\wamp64\\www\\firstProject\\frontend\\src\\app\\contacts\\edit-contact\\edit-contact.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { HttpService } from 'src/app/http.service';\r\nimport { allContacts } from '../contacts.interface';\r\n\r\n\r\n@Component({\r\n  selector: 'app-edit-contact',\r\n  templateUrl: './edit-contact.component.html',\r\n  styleUrls: ['./edit-contact.component.scss']\r\n})\r\nexport class EditContactComponent {\r\ncontacts?: allContacts;\r\nsub?: Subscription;\r\nform?: FormGroup;\r\n\r\nbuildForm(item?: allContacts) {\r\n    this.form = new FormGroup({\r\n        firstName: new FormControl(item?.firstName, [\r\n            Validators.required,\r\n        ]),\r\n        lastName: new FormControl(item?.lastName, [\r\n            Validators.required,\r\n        ]),\r\n        email: new FormControl(item?.email, [\r\n            Validators.required,\r\n        ]),\r\n        phone: new FormControl(item?.phone, [\r\n          Validators.required,\r\n      ]),\r\n      address: new FormControl(item?.address, [\r\n        Validators.required,\r\n    ]),\r\n    });\r\n}\r\n\r\nadd() {\r\n    const sub = this.http.post<allContacts>(`contacts`, this.form?.value).subscribe((item: any) => {\r\n        this.router.navigate(['contacts']);\r\n        sub.unsubscribe();\r\n    });\r\n}\r\n\r\nsave() {\r\n    const sub = this.http.put<void>(`contacts/${this.contacts?.id}`, this.form?.value).subscribe(() => {\r\n        this.router.navigate(['contacts']);\r\n        sub.unsubscribe();\r\n    });\r\n}\r\n\r\ngetContact(id: string) {\r\n    const sub = this.http.get<allContacts>(`contact/${id}`).subscribe(item => {\r\n        this.contacts = item;\r\n        this.buildForm(item);\r\n        sub.unsubscribe();\r\n    });\r\n}\r\n\r\nconstructor(private router: Router, private route: ActivatedRoute, private http: HttpService) {\r\n\r\n    this.sub = this.route.params.subscribe(params => {\r\n        if (params['id']) {\r\n            this.getContact(params['id']);\r\n        } else {\r\n            this.buildForm();\r\n        }\r\n    });\r\n\r\n}\r\n\r\nngOnInit() {\r\n\r\n}\r\n\r\nngOnDestroy() {\r\n    this.sub?.unsubscribe();\r\n}\r\n\r\n\r\n}\r\n","\r\n<h2 *ngIf=\"!contacts\">עריכת איש קשר</h2>\r\n<h2 *ngIf=\"contacts\">עריכת איש קשר</h2>\r\n\r\n\r\n<form class=\"form\" *ngIf=\"form\" [formGroup]=\"form\">\r\n    <div class=\"field\">\r\n        <label>שם פרטי:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"firstName\">\r\n    </div>\r\n\r\n    <div class=\"field\">\r\n        <label>שם משפחה:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"lastName\">\r\n    </div>\r\n\r\n    <div class=\"field\">\r\n        <label>אימייל:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"email\">\r\n    </div>\r\n    <div class=\"field\">\r\n        <label>טלפון:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"phone\">\r\n    </div>\r\n<div class=\"field\">\r\n        <label>כתובת:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"address\">\r\n    </div>\r\n\r\n\r\n    <button *ngIf=\"!contacts\" class=\"savecon\" [disabled]=\"!form.valid\" (click)=\"add()\">הוסף <i class=\"fa fa-plus\"></i></button>\r\n    <button *ngIf=\"contacts\" class=\"savecon\" [disabled]=\"!form.valid\" (click)=\"save()\"> <i class=\"fa fa-check\"></i></button>\r\n</form>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}