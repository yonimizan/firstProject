{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/http.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction EditCustomerComponent_h2_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\");\n    i0.ɵɵtext(1, \"\\u05D4\\u05D5\\u05E1\\u05E4\\u05EA \\u05DC\\u05E7\\u05D5\\u05D7\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditCustomerComponent_h2_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\");\n    i0.ɵɵtext(1, \"\\u05E2\\u05E8\\u05D9\\u05DB\\u05EA \\u05DC\\u05E7\\u05D5\\u05D7 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditCustomerComponent_form_2_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function EditCustomerComponent_form_2_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.add());\n    });\n    i0.ɵɵtext(1, \"\\u05D4\\u05D5\\u05E1\\u05E3 \");\n    i0.ɵɵelement(2, \"i\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r3.form.valid);\n  }\n}\nfunction EditCustomerComponent_form_2_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function EditCustomerComponent_form_2_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.save());\n    });\n    i0.ɵɵelement(1, \"i\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r4.form.valid);\n  }\n}\nfunction EditCustomerComponent_form_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"form\", 2)(1, \"div\", 3)(2, \"label\");\n    i0.ɵɵtext(3, \"\\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\");\n    i0.ɵɵtext(7, \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\");\n    i0.ɵɵtext(11, \"\\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 3)(14, \"label\");\n    i0.ɵɵtext(15, \"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"input\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, EditCustomerComponent_form_2_button_17_Template, 3, 1, \"button\", 8);\n    i0.ɵɵtemplate(18, EditCustomerComponent_form_2_button_18_Template, 2, 1, \"button\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.form);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.customer);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.customer);\n  }\n}\nexport class EditCustomerComponent {\n  constructor(router, route, http) {\n    this.router = router;\n    this.route = route;\n    this.http = http;\n    this.sub = this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.getCustomer(params['id']);\n      } else {\n        this.buildForm();\n      }\n    });\n  }\n  buildForm(item) {\n    this.form = new FormGroup({\n      firstName: new FormControl(item?.firstName, [Validators.required]),\n      lastName: new FormControl(item?.lastName, [Validators.required]),\n      email: new FormControl(item?.email, [Validators.required]),\n      phone: new FormControl(item?.phone, [Validators.required])\n    });\n  }\n  add() {\n    const sub = this.http.post(`customers`, this.form?.value).subscribe(item => {\n      this.router.navigate(['customers']);\n      sub.unsubscribe();\n    });\n  }\n  save() {\n    const sub = this.http.put(`customers/${this.customer?.id}`, this.form?.value).subscribe(() => {\n      this.router.navigate(['customers']);\n      sub.unsubscribe();\n    });\n  }\n  getCustomer(id) {\n    const sub = this.http.get(`customer/${id}`).subscribe(item => {\n      this.customer = item;\n      this.buildForm(item);\n      sub.unsubscribe();\n    });\n  }\n  ngOnInit() {}\n  ngOnDestroy() {\n    this.sub?.unsubscribe();\n  }\n}\nEditCustomerComponent.ɵfac = function EditCustomerComponent_Factory(t) {\n  return new (t || EditCustomerComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.HttpService));\n};\nEditCustomerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditCustomerComponent,\n  selectors: [[\"app-edit-customer\"]],\n  decls: 3,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [3, \"formGroup\", 4, \"ngIf\"], [3, \"formGroup\"], [1, \"field\"], [\"type\", \"text\", \"formControlName\", \"firstName\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [\"type\", \"text\", \"formControlName\", \"lastName\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [\"type\", \"text\", \"formControlName\", \"email\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [\"type\", \"text\", \"formControlName\", \"phone\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [\"class\", \"saveCus\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [1, \"saveCus\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-check\"]],\n  template: function EditCustomerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, EditCustomerComponent_h2_0_Template, 2, 0, \"h2\", 0);\n      i0.ɵɵtemplate(1, EditCustomerComponent_h2_1_Template, 2, 0, \"h2\", 0);\n      i0.ɵɵtemplate(2, EditCustomerComponent_form_2_Template, 19, 3, \"form\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.customer);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.customer);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.form);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n  styles: [\"h2[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.saveCus[_ngcontent-%COMP%] {\\n  color: white;\\n  background-color: #629460;\\n  border: none;\\n  margin: 15px 15px 15px 0px;\\n  padding: 10px 50px;\\n  border-radius: 5px;\\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.4196078431);\\n  cursor: pointer;\\n  font-size: 10px;\\n}\\n\\n.field[_ngcontent-%COMP%] {\\n  margin: 0px 15px 0px 15px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY3VzdG9tZXJzL2VkaXQtY3VzdG9tZXIvZWRpdC1jdXN0b21lci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0FBQ0o7O0FBRUE7RUFDSSxZQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0EsMEJBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsK0NBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQUNKOztBQUdFO0VBQ0UseUJBQUE7QUFBSiIsInNvdXJjZXNDb250ZW50IjpbImgye1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uc2F2ZUN1cyB7ICAgXHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjI5NDYwOyBcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIG1hcmdpbjogMTVweCAxNXB4IDE1cHggMHB4O1xyXG4gICAgcGFkZGluZzogMTBweCA1MHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDNweCAjMDAwMDAwNmI7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7O1xyXG4gICAgZm9udC1zaXplOiAxMHB4O1xyXG4gIH1cclxuXHJcbiAgXHJcbiAgLmZpZWxkIHtcclxuICAgIG1hcmdpbiA6IDBweCAxNXB4IDBweCAxNXB4OyAgICBcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","i0","EditCustomerComponent","constructor","router","route","http","sub","params","subscribe","getCustomer","buildForm","item","form","firstName","required","lastName","email","phone","add","post","value","navigate","unsubscribe","save","put","customer","id","get","ngOnInit","ngOnDestroy","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\wamp64\\www\\firstProject\\frontend\\src\\app\\customers\\edit-customer\\edit-customer.component.ts","C:\\wamp64\\www\\firstProject\\frontend\\src\\app\\customers\\edit-customer\\edit-customer.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { HttpService } from 'src/app/http.service';\r\nimport { User } from '../customers.interface';\r\n\r\n@Component({\r\n  selector: 'app-edit-customer',\r\n  templateUrl: './edit-customer.component.html',\r\n  styleUrls: ['./edit-customer.component.scss']\r\n})\r\nexport class EditCustomerComponent {\r\n\r\ncustomer?: User;\r\nsub?: Subscription;\r\nform?: FormGroup;\r\n\r\nbuildForm(item?: User) {\r\n    this.form = new FormGroup({\r\n        firstName: new FormControl(item?.firstName, [\r\n            Validators.required,\r\n        ]),\r\n        lastName: new FormControl(item?.lastName, [\r\n            Validators.required,\r\n        ]),\r\n        email: new FormControl(item?.email, [\r\n            Validators.required,\r\n        ]),\r\n        phone: new FormControl(item?.phone, [\r\n          Validators.required,\r\n      ]),\r\n  \r\n    });\r\n}\r\n\r\nadd() {\r\n    const sub = this.http.post<User>(`customers`, this.form?.value).subscribe((item: any) => {\r\n        this.router.navigate(['customers']);\r\n        sub.unsubscribe();\r\n    });\r\n}\r\n\r\nsave() {\r\n    const sub = this.http.put<void>(`customers/${this.customer?.id}`, this.form?.value).subscribe(() => {\r\n        this.router.navigate(['customers']);\r\n        sub.unsubscribe();\r\n    });\r\n}\r\n\r\ngetCustomer(id: string) {\r\n    const sub = this.http.get<User>(`customer/${id}`).subscribe(item => {\r\n        this.customer = item;\r\n        this.buildForm(item);\r\n        sub.unsubscribe();\r\n    });\r\n}\r\n\r\nconstructor(private router: Router, private route: ActivatedRoute, private http: HttpService) {\r\n\r\n    this.sub = this.route.params.subscribe(params => {\r\n        if (params['id']) {\r\n            this.getCustomer(params['id']);\r\n        } else {\r\n            this.buildForm();\r\n        }\r\n    });\r\n\r\n}\r\n\r\nngOnInit() {\r\n\r\n}\r\n\r\nngOnDestroy() {\r\n    this.sub?.unsubscribe();\r\n}\r\n\r\n\r\n}\r\n\r\n\r\n\r\n","<h2 *ngIf=\"!customer\">הוספת לקוח</h2>\r\n<h2 *ngIf=\"customer\">עריכת לקוח </h2>\r\n\r\n\r\n\r\n<form *ngIf=\"form\" [formGroup]=\"form\">\r\n    <div class=\"field\">\r\n        <label>שם פרטי:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"firstName\">\r\n    </div>\r\n\r\n    <div class=\"field\">\r\n        <label>שם משפחה:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"lastName\">\r\n    </div>\r\n\r\n    <div class=\"field\">\r\n        <label>אימייל:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"email\">\r\n    </div>\r\n    <div class=\"field\">\r\n        <label>טלפון:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"phone\">\r\n    </div>\r\n\r\n\r\n    <button *ngIf=\"!customer\" class=\"saveCus\" [disabled]=\"!form.valid\" (click)=\"add()\">הוסף <i class=\"fa  fa-check\"></i></button>\r\n    <button *ngIf=\"customer\" class=\"saveCus\" [disabled]=\"!form.valid\" (click)=\"save()\"> <i class=\"fa fa-check\"></i></button>\r\n</form>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}