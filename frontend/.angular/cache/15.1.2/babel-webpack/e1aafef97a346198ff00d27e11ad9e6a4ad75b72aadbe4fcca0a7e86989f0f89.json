{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { finalize } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/http.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction AddContactComponent_form_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 1)(1, \"div\", 2)(2, \"label\");\n    i0.ɵɵelement(3, \"i\", 3);\n    i0.ɵɵtext(4, \" \\u05E9\\u05DD \\u05E4\\u05E8\\u05D8\\u05D9:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 2)(7, \"label\");\n    i0.ɵɵelement(8, \"i\", 5);\n    i0.ɵɵtext(9, \" \\u05E9\\u05DD \\u05DE\\u05E9\\u05E4\\u05D7\\u05D4:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 2)(12, \"label\");\n    i0.ɵɵelement(13, \"i\", 3);\n    i0.ɵɵtext(14, \"\\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 2)(17, \"label\");\n    i0.ɵɵelement(18, \"i\", 8);\n    i0.ɵɵtext(19, \" \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"input\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 2)(22, \"label\");\n    i0.ɵɵelement(23, \"i\", 10);\n    i0.ɵɵtext(24, \" \\u05DB\\u05EA\\u05D5\\u05D1\\u05EA:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(25, \"input\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function AddContactComponent_form_2_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addContact());\n    });\n    i0.ɵɵelement(27, \"i\", 13);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.Form);\n    i0.ɵɵadvance(26);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.Form.valid);\n  }\n}\nexport class AddContactComponent {\n  constructor(router, http, route) {\n    this.router = router;\n    this.http = http;\n    this.route = route;\n    this.isSended = false;\n    this.sub = this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.getContact(params['id']);\n      } else {\n        this.buildForm();\n      }\n    });\n  }\n  buildForm(item) {\n    this.Form = new FormGroup({\n      firstName: new FormControl('', [Validators.required]),\n      lastName: new FormControl('', [Validators.required]),\n      email: new FormControl('', [Validators.required]),\n      phone: new FormControl('', [Validators.required]),\n      address: new FormControl('', [Validators.required])\n    });\n  }\n  addContact() {\n    const sub = this.http.post(\"addContact\", this.Form?.value).pipe(finalize(() => {\n      if (sub?.unsubscribe) {\n        sub.unsubscribe();\n      }\n    })).subscribe(data => {\n      this.isSended = true;\n      this.router.navigate(['/contacts']);\n    });\n  }\n  getContact(id) {\n    const sub = this.http.get(`contact/${id}`).subscribe(item => {\n      this.allcontacts = item;\n      this.buildForm(item);\n      sub.unsubscribe();\n    });\n  }\n  ngOnInit() {}\n}\nAddContactComponent.ɵfac = function AddContactComponent_Factory(t) {\n  return new (t || AddContactComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HttpService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nAddContactComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddContactComponent,\n  selectors: [[\"app-add-contact\"]],\n  decls: 3,\n  vars: 1,\n  consts: [[3, \"formGroup\", 4, \"ngIf\"], [3, \"formGroup\"], [1, \"field\"], [1, \"fa\", \"fa-user\"], [\"type\", \"text\", \"formControlName\", \"firstName\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [1, \"fa\", \"fa-envelope\"], [\"type\", \"text\", \"formControlName\", \"lastName\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [\"type\", \"text\", \"formControlName\", \"email\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [1, \"fa\", \"fa-asterisk\"], [\"type\", \"text\", \"formControlName\", \"phone\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [1, \"fa\", \"far\", \"fa-address-card\"], [\"type\", \"text\", \"formControlName\", \"address\", 1, \"w3-input\", \"w3-border\", \"w3-round\"], [\"routerLink\", \"/contacts\", 1, \"createCustomer\", 3, \"disabled\", \"click\"], [1, \"fa\", \"fa-check\"]],\n  template: function AddContactComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h6\");\n      i0.ɵɵtext(1, \" \\u05D0\\u05D9\\u05E9 \\u05E7\\u05E9\\u05E8 \\u05D7\\u05D3\\u05E9\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, AddContactComponent_form_2_Template, 28, 2, \"form\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.Form);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i1.RouterLink],\n  styles: [\"h6[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.createCustomer[_ngcontent-%COMP%] {\\n  background-color: #629460;\\n  border: none;\\n  color: white;\\n  margin-top: 15px;\\n  margin-bottom: 10px;\\n  padding: 10px 50px;\\n  border-radius: 5px;\\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.4196078431);\\n  cursor: pointer;\\n  font-size: 10px;\\n}\\n\\n.field[_ngcontent-%COMP%] {\\n  margin: 0px 15px 0px 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29udGFjdHMvYWRkLWNvbnRhY3QvYWRkLWNvbnRhY3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDSSxrQkFBQTtBQUFKOztBQUdBO0VBQ0kseUJBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsK0NBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQUFKOztBQUlBO0VBQ0UseUJBQUE7QUFERiIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5oNntcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmNyZWF0ZUN1c3RvbWVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM2Mjk0NjA7IFxyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgbWFyZ2luLXRvcDogMTVweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7ICBcclxuICAgIHBhZGRpbmc6IDEwcHggNTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGJveC1zaGFkb3c6IDAgMCAzcHggIzAwMDAwMDZiO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyOztcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuXHJcbn1cclxuXHJcbi5maWVsZCB7XHJcbiAgbWFyZ2luIDogMHB4IDE1cHggMHB4IDEwcHg7ICAgIFxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","finalize","i0","AddContactComponent","constructor","router","http","route","sub","params","subscribe","getContact","buildForm","item","Form","firstName","required","lastName","email","phone","address","addContact","post","value","pipe","unsubscribe","data","isSended","navigate","id","get","allcontacts","ngOnInit","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\wamp64\\www\\firstProject\\frontend\\src\\app\\contacts\\add-contact\\add-contact.component.ts","C:\\wamp64\\www\\firstProject\\frontend\\src\\app\\contacts\\add-contact\\add-contact.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { finalize, Subscription } from 'rxjs';\r\nimport { HttpService } from 'src/app/http.service';\r\nimport { allContacts } from '../contacts.interface';\r\n\r\nimport { Contact } from './add-Contact.interface';\r\n\r\n@Component({\r\n  selector: 'app-add-contact',\r\n  templateUrl: './add-contact.component.html',\r\n  styleUrls: ['./add-contact.component.scss']\r\n})\r\nexport class AddContactComponent {\r\n  allcontacts?:allContacts\r\n  contact? : Contact;\r\n  Form?: FormGroup;\r\n  isSended= false;\r\n  sub?: Subscription;\r\n  \r\n \r\n  buildForm(item?: Contact) {\r\n    this.Form = new FormGroup({\r\n        firstName: new FormControl('',[\r\n            Validators.required,\r\n        ]),\r\n        lastName: new FormControl('',[\r\n            Validators.required,\r\n        ]),\r\n        email: new FormControl('',[\r\n            Validators.required,\r\n        ]),\r\n        phone: new FormControl('',[\r\n          Validators.required,\r\n        ]),\r\n        address: new FormControl('',[\r\n        Validators.required,\r\n    ]),\r\n    });\r\n}\r\n\r\naddContact(){\r\n  const sub = this.http.post<Contact[]>(\"addContact\", this.Form?.value).pipe(finalize(() => {\r\n      if (sub?.unsubscribe) {\r\n          sub.unsubscribe();\r\n      }\r\n  })).subscribe(data => {\r\n      this.isSended = true;\r\n      this.router.navigate(['/contacts']);\r\n      \r\n  });\r\n}\r\n\r\ngetContact(id: string) {\r\n  const sub = this.http.get<allContacts>(`contact/${id}`).subscribe(item => {\r\n      this.allcontacts = item;\r\n      this.buildForm(item);\r\n      sub.unsubscribe();\r\n  });\r\n}\r\n\r\n\r\n\r\nconstructor (private router: Router, private http:HttpService, private route: ActivatedRoute){\r\n\r\n  this.sub = this.route.params.subscribe(params => {\r\n    if (params['id']) {\r\n        this.getContact(params['id']);\r\n    } else {\r\n        this.buildForm();\r\n    }\r\n});\r\n}\r\n  \r\n\r\n ngOnInit() {\r\n\r\n\r\n }\r\n\r\n}\r\n","\r\n\r\n<h6> איש קשר חדש</h6>\r\n\r\n<form *ngIf=\"Form\" [formGroup]=\"Form\">\r\n    <div class=\"field\">\r\n        <label><i class=\"fa fa-user\"></i> שם פרטי:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"firstName\">\r\n    </div>\r\n\r\n    <div class=\"field\">\r\n        <label><i class=\"fa fa-envelope\"></i> שם משפחה:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"lastName\">\r\n    </div>\r\n\r\n    <div class=\"field\">\r\n        <label><i class=\"fa fa-user\"></i>אימייל:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"email\">\r\n    </div>\r\n\r\n    <div class=\"field\">\r\n        <label><i class=\"fa fa-asterisk\"></i> טלפון:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"phone\">\r\n    </div>\r\n     \r\n    <div class=\"field\">\r\n        <label><i class=\"fa far fa-address-card\"></i> כתובת:</label>\r\n        <input class=\"w3-input w3-border w3-round\" type=\"text\" formControlName=\"address\">\r\n    </div>\r\n \r\n\r\n    <button class=\"createCustomer\" [disabled]=\"!Form.valid\" (click)=\"addContact()\"  routerLink=\"/contacts\"><i class=\"fa fa-check\"></i></button>\r\n \r\n\r\n   \r\n</form>\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}